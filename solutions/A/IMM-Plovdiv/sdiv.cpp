#include <bits/stdc++.h>
using namespace std;

string source;
int n;
long long m;

vector<long long> remainders, newrem;

int main()
{

    //ifstream kek("kek.txt");
    //kek>>source>>n>>m;

    cin>>source>>n>>m;
    //source = "5959779643807199358759905754510724302714256133128581746481293759734664722129927153109629881780518847781515431959913182962641894980948715413366963768067702169949477385516974265333636044795535509264663121900886219423482941957202809465622772118706948341337137653762069706414763093608621122308587018014376364861375523875316801531461535005569787890662474050994385377188107487380252934434065998029305595226706032027921867447462628914718847631238831189634587918142841699346627907685715523666652525949777831394285272901548116883558010916416361415323521052207194671147328032053761220286244864956082357471519482805223621741253768549984573548954045210143018803158221473211318442233442140845910694833380146766826428288229728919143907417862786359579015255690892538059302641365840983219033165220237029516228421249909743864844054839358236342664214741564307329440098810497629900389210661902776716934884484467239386517922099814782907717072454639079568228251670751095946549109385715032998301813210151640221315110938267064302422471369659530103551770785527022943555169166479468319149573104874107404352931735052001452047003050642561623432005872471916956485347838981457701388731721551743302803294246916516862362571719555344451161530231397716079731589312817058907409157916387776367442107100416512099152268791748975150784636495103072479630130668518337893205559570759460597140763079854399489908545624932434633874707372100550818163683062125555794075408371875121934482038298463424338834551170438506705971134687016834354385780139112762739658703482336858851211654152871020149594836541968837458473765281153128823836058142111368614472361084416331595240059653188076393863560419364139929141176982450056081815911906195182145542395004707775666368704050409014266552887090445823052284252347549195061344687903782656888649499666256393489117771958075496074277392048597958446611518071859768708627395941756090235544557560609072807584017902880702067162735995349967321778699119166265431977865342426427488061258353158693791494717348405630839099370170773931179743830712974503306525252033229435018706754391017183502033865586515401357934759570440024400722930293695537918131009782103698669848640642656637395815412155640756277426393981935626696177370966061326676500981888882526254093579930972959071296280722173727999715306002381035787108814918886678715495296186601142934124445023649746178243458779906311530476092137997226203639146876482209521465306283916389035145405165149238130729424493013855514303185422845435265843718583389523115909340022434866526041430514145590180425967918779411647312850154094476188427624851811241758394659234953250027943223120586271443183892128208239554336386749548661170202460476868485381561822642760244526556079895365676595088042136062141030831067411523405305090432545438148016817328053947240903345105925377216679676756883971561557220024483324340275755840704302042550015681701938505872601037099802289080293962799243872311316033898405880797655034972941609449798812630922388660445562482074024085473190814306575030550524250202425063674475849867503216686486694530393903992071410671949650002518734523525898671381316432027024172576495118160509093823941753591759837802691900174430451689558355029583656865825631968006322299072765665904607774814254991583032915586999895531630841959007160546449953081651189863293719745878289429734264442823873647948647851152975196319680669113524860331934593314265252055877205383648522935917973681860099616972779201241833416543915053103695201782790916446456530742706319860343452447716049384467559438991866254472083425961052468586124256121023955091761913821718330149498190150235300218128328385320519362942737912286968515992589635848817463496325655661429672740214587120466354559181633880780852961775335018971542841754632038259585912380588826956221774764108511705013918497431984065174105649430625553369451274775700255539096445487387918121011463408837171346735018845897787563789575486612463511026415085192660040940312653756366975300599951363127021644849643216905396101525238950266797274157112651409228491473638716386268568218999877357580871921998912272222299454723547334314830424601003992158478074736771751150573690910472111687886081487536000991779055990775475035143425726613186976065924790857298334212999466363177462992816529724403362243659090745295093765530456801192903526488785783397567873371815845565798026764088293357715851108978463911722937231823957527476658942566225881345528596813035379962726523848598437868208919506321163261748571413780417869653908592820009237141868768786329435872073069943330344741122057110772070451585955567086504215236753160039578744389863814539839915965003689049994520269797187971834752023680000867578972231912156216977444126165730745557157282100985575075680425005418011129901789359562760660182653296994642532997120685287010086591015711972362589049281429179898605592133142022659276732187755275033385629389519839941200342875290764491662062189090735521666198238035129909970985902417942784534464422227122903782618189631747912843234272096115004061242533610549244409761775745943571353682049718190810123163890656031902171302489162624630005920907402406537091455645565339708487696096833207314595196543272280097873580862033563675623960389535513266808430367968308736332798276313914622486553290977863251059181866572683665337762255712061392905707382102195287233782881213484848886585627334555482373953069926152633171890395172222539916934375281970046787663452912198837225702906497077492646389285169632531493998611586854383627150941780311141371146729203038787569526919026236258246873410157730884826032226634046193603577414875275121263177754287978739432114253680742945356025424688061462863375747376080905561266595421052487296370309861407220142300262566025083480720803988544410670419503470531798544368455904197855015492910340155247433858769912299600317196583212473631111536337224994096492192728094814081447486615344862517100417310850792341079609999739816176458152092779656490140455906604078486720834651855109695937544531557661543713981717945213380160414109727633309536519525812983230842939832897766469607019214456392337753532501220998545199571742633338640018571405184727227000080640586982300155627424797915096473660542225922399226044563056282599566431457811489255898029210897960648970837298849582607260831196924067697882032650179561053296666993857644234292053866601412895119811587738478028183980419778234622891272306506232943357566859989607766111714751166729777818110622298759353637468906157222718274813284872160180991013179021616133193192290336889474659222694284436837241265350136815890763651011631642758265676222584029815961222833939153023740293245530475517817896395626304958596561909742092774867457769118433831339564179712886321876322852209590764993801154246659817017643093380077901396041719177244700831599167905819028776252021014685259671810430018401428614385100050181237188678243441954092389344115006862917973520893870110687858134824663513174490875516204800702263113098926963804418375800071270981605788000877868061351598878040883972857257855882467278756154301601598448818219509016861729206463925402365944905992297459377410847567108688139635648582456898639235729354479510279968597527931635924592946138830343783509821464705146868849046472731957682261321572317014804007828296919487196752268507522140056409171622178824532106817735896165610555613574802274108393947230390015755364538607268185116503175941652383921300814049899813160981672199480844971613967015333699323544687162945487590259950678893082619527724948731180341226347445757037201332300231189297529972394170035971590714124775161469865677516082323558893678426865947400588527671831597920354339297247954086451802672333951075709793386424604555869599536772754272911923255197789348466935463869611281645874160901009989417221648789508734897110796011952601267538908910020715267484610770579879830496850995199147636023367057964262163236312046817925435998766540860699368709984262861160294361470069786147220945082850065951672699823866336251145492221128959852088743763489477046875020109512397727293605763385457097313844184235318493469774587844264374328577562014052844926461643430189065295896996591996816753871554404938011657979616388939959669754252355475533485216123556014674804801539662471881528805955281990208485376651368868988407861703427227818400465974094491326714120471638064686851889098715612228030217068293812370921615813914379430711115949549174733808256781120033995602595293078895817187058464111085346644010166073178709057926465808583092465423252003084591682355359051923012542863985400992950649868920588031689739762309112025510057515787904449504737192615323577959744248090354888291749122203288354743349464439869676255012101603087595920314593556871754386245779283713464474648888235107755241556715063431298719563926080548687764294095161057669001146358309337018715927967772502880004212482821431749856771938329272667045541707767552845960267658716748019235706510038157741950175163113596876707976843770102318002812926729275782037743659266548330416612149989386439694511175918015264392586803842692643351222638071415258603677006257688092051571465843765634077984796077271431820555412049432192751593610657819623102301972728681838837413051869679318781406052228157882253959317853051613595817129922199963422664314483781257316337292815339081631925652953556463751734728924252027378480180176502944372556064628476141683479083144236513447270570009904890746121688580401969194878922570168743023953538282076804532739284858524532113694980266320802873846368217897343135956575244262545499450242298613923724724375485877654587174833561791236074962021297739859828229969997960626493409825231563660351073403854589635660391242392586586214559910121610439244798841417638201655813886794422678601975874101317419248814281482160829145925169579123458544994638938626521723144743585610922664213097149810038517113048353269385603568295161388661087812453944008735909542023768684043808311785069923520336815291322671385037360040221847614879696757731627805640670890625784486279959204157785303493733175264834989035272248500440152390850972810202457454921439383221988267269849826681926994698";
    //n = 999;
    //m = 99999999999;
    remainders.resize(n, 0);

    newrem.resize(n, 0);


    for (int i=0;i<source.size();i++)
    {
        int c = int(source[i]-'0');
        int lim;
        for (int j=0;j<n;j++)
        {
            lim = (10*n+c-j)/n;
            //if (lim!=9 && lim!=10)
            //    cout<<lim<<endl;
            for (int b=0;b<lim;b++)
                if ((b*n+j-c)%10==0)
                    newrem[j]=(newrem[j] + remainders[(b*n+j-c)/10])%m;
        }
        newrem[c%n] = (newrem[c%n]+1)%m;
        for (int j=0;j<n;j++)
            remainders[j] = newrem[j];
        newrem.clear();
        //for (int j=0;j<n;j++)
        //    cout<<remainders[j]<<' ';
        //cout<<endl;
    }

    cout<<remainders[0]<<endl;




    return 0;
}
